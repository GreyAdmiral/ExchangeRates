"use strict";async function money(){try{let e=await fetch("https://www.nbrb.by/api/exrates/rates?periodicity=0");if(!e.ok)throw`Looks like there was a problem. Status Code: ${e.status}`;let t=await e.json(),n=await fetch("https://www.nbrb.by/api/exrates/rates?periodicity=1");if(!n.ok)throw`Looks like there was a problem. Status Code: ${n.status}`;[...t,...await n.json()].sort((e,t)=>e.Cur_Name.localeCompare(t.Cur_Name)).forEach(e=>moneyLine(e)),table.append(fragment)}catch(e){moneyError(e)}}function moneyLine(e){let{Cur_ID:t,Cur_Abbreviation:n,Cur_Scale:o,Cur_Name:a,Cur_OfficialRate:r,Date:c}=e,d=document.createElement("div");d.classList.add("money__item","money__item--row"),d.id=t,d.innerHTML=`<span data-text="${tableHeader[0].textContent}">${n}</span><span data-text="${tableHeader[1].textContent}">${o}</span><span data-text="${tableHeader[2].textContent}">${a}</span><span data-text="${tableHeader[3].textContent}">${r}</span><span data-text="${tableHeader[4].textContent}">${new Date(c).toLocaleDateString()}</span>`,fragment.append(d)}function moneyError(e){let t=document.createElement("span"),n=document.querySelector(".footer");document.querySelector(".money__item--title").remove(),n.remove(),t.classList.add("money__error"),t.textContent="Произошла ошибка.",console.log(e),table.append(t)}let table=document.querySelector(".money__table"),tableHeader=[...document.querySelectorAll(".money__item--title > span")],fragment=new DocumentFragment,documentWidth=Math.max(document.documentElement.clientWidth,document.body.clientWidth,document.documentElement.offsetWidth,document.body.offsetWidth,document.documentElement.scrollWidth,document.body.scrollWidth);money(),table.ondblclick=(e=>{e.target.closest(".money__item--row > span")&&(navigator.clipboard?navigator.clipboard.writeText(e.target.textContent).then(()=>console.log("Скопировано!")).catch(e=>console.log(e)):window.getSelection()?(document.getSelection().selectAllChildren(e.target),document.execCommand("copy"),document.getSelection().empty()):document.body.createTextRange&&(range=document.body.createTextRange(),range.moveToElementText(e.target),range.select(),document.execCommand("copy"))),e.stopPropagation()}),documentWidth>768&&(document.addEventListener("copy",e=>e.preventDefault()),document.addEventListener("cut",e=>e.preventDefault()),document.addEventListener("paste",e=>e.preventDefault()),document.addEventListener("contextmenu",e=>e.preventDefault()));