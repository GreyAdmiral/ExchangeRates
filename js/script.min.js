"use strict";async function money(){try{let e=await fetch("https://www.nbrb.by/api/exrates/rates?periodicity=0");if(!e.ok)throw`Looks like there was a problem. Status Code: ${e.status}`;let t=await e.json(),n=await fetch("https://www.nbrb.by/api/exrates/rates?periodicity=1");if(!n.ok)throw`Looks like there was a problem. Status Code: ${n.status}`;let o=await n.json();t.concat(o).sort((e,t)=>e.Cur_Name.localeCompare(t.Cur_Name)).forEach(e=>moneyLine(e)),table.append(fragment),table.addEventListener("dblclick",doubleClick)}catch(e){moneyError(e)}}function moneyLine(e){let{Cur_ID:t,Cur_Abbreviation:n,Cur_Scale:o,Cur_Name:a,Cur_OfficialRate:r,Date:c}=e,l=c.split("T")[0].split("-").reverse().join("."),m=[...document.querySelectorAll(".money__item--title > span")],i=document.createElement("div");i.classList.add("money__item","money__item--row"),i.id=t,i.innerHTML=`<span data-text="${m[0].textContent}">${n}</span><span data-text="${m[1].textContent}">${o}</span><span data-text="${m[2].textContent}">${a}</span><span data-text="${m[3].textContent}">${r}</span><span data-text="${m[4].textContent}">${l}</span>`,fragment.append(i)}function moneyError(e){let t=document.createElement("span"),n=document.querySelector(".footer");document.querySelector(".money__item--title").remove(),n.remove(),t.classList.add("money__error"),t.textContent="Произошла ошибка!",console.log(e),table.append(t)}function copyCell(e){navigator.clipboard?navigator.clipboard.writeText(e.textContent).then(()=>console.log("Скопировано!")).catch(e=>console.log(e)):window.getSelection()?(document.getSelection().selectAllChildren(e),document.execCommand("copy"),document.getSelection().empty()):document.body.createTextRange&&(range=document.body.createTextRange(),range.moveToElementText(e),range.select(),document.execCommand("copy"))}function sortCell(e,t){let n=`[data-text="${sortText}"]`,o=e.querySelector(n).textContent,a=t.querySelector(n).textContent,r=e=>e.split(".").reverse().join("-");switch(Number.isNaN(+o)){case!0:return"Дата"==sortText?r(o).localeCompare(r(a)):o.localeCompare(a);case!1:return o-a}}function doubleClick(e){if(e.target.closest(".money__item--row > span")&&copyCell(e.target),e.target.closest(".money__item--title > span")){sortText=e.target.textContent;let t=[...document.getElementsByClassName("money__item--row")],n=t.sort(sortCell),o=new DocumentFragment;t.forEach((e,t)=>{e.remove(),o.append(n[t])}),table.append(o)}e.stopPropagation()}let sortText,table=document.querySelector(".money__table"),fragment=new DocumentFragment,documentWidth=Math.max(document.documentElement.clientWidth,document.body.clientWidth,document.documentElement.offsetWidth,document.body.offsetWidth,document.documentElement.scrollWidth,document.body.scrollWidth);money(),documentWidth>768&&(document.addEventListener("copy",e=>e.preventDefault()),document.addEventListener("cut",e=>e.preventDefault()),document.addEventListener("paste",e=>e.preventDefault()),document.addEventListener("contextmenu",e=>e.preventDefault())),Number.isNaN||(Number.isNaN=function(e){return"number"==typeof e&&isNaN(e)});